<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 위 코드가 mapper 설정을 하는 코드 -->

<!-- Mapper를 사용하는 Repository의 전체 경로를 적어줘야함. -->
<mapper namespace="cpackage com.demo.example.domain.MapperRepository">

    <select id="findAll" resultType="com.demo.example.dto.MYbatisDTO">
        select * from DB
    </select>

    <select id="JobkoreaList" resultType="com.demo.example.dto.MYbatisDTO">
        select * from DB
        where homepage = "Jobkorea"
    </select>

    <select id="SaraminList" resultType="com.demo.example.dto.MYbatisDTO">
        select * from DB
        where homepage = "Saramin"
    </select>

    <select id="WantedList" resultType="com.demo.example.dto.MYbatisDTO">
        select * from DB
        where homepage = "Wanted"
    </select>

    <select id="careerList" resultType="com.demo.example.dto.MYbatisDTO">
        select * from DB
        where homepage = "career"
    </select>



    <select id="SearchList" resultMap="boardMap"  parameterType="MYbatisDTO">
        select *
        from DB where
        <choose>
                 <when  test="areaList = null">
                area
                </when>
                <otherwise>
                    <if test="areaList != null">
                        area in <foreach item="area" collection="areaList" open="(" close=")" separator="," >
                        #{area}
                    </foreach>
                    </if>

                    <if test="careerList != null">
                        and career in <foreach item="career" collection="areaList" open="(" close=")" separator="," >
                        #{career}
                    </foreach>
                    </if>
                    <if test="academicList != null">
                        and academic in <foreach item="academic" collection="academicList" open="(" close=")" separator="," >
                        #{academic}
                    </foreach>
                    </if>
                    <if test="academicList != null">
                        and salary  <choose>
                        <when test = "salaryValue = 1">BETWEEN 0 AND 2500 </when>
                        <when test = "salaryValue = 2">BETWEEN 2500 AND 3000 </when>
                        <when test = "salaryValue = 3">BETWEEN 3000 AND 3500 </when>
                        <when test = "salaryValue = 4">BETWEEN 3500 AND 4000 </when>
                        <when test = "salaryValue = 5">BETWEEN 4000 AND 5000 </when>
                        <when test = "salaryValue = 6"> >= 5000 </when>
                        <otherwise>


                        </otherwise>
                        </choose>

                    </if>


                </otherwise>
        </choose>



    </select>










</mapper>